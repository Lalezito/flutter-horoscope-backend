{
  "name": "zodiac-backend-production",
  "environment": "production",
  "services": {
    "api": {
      "name": "zodiac-backend-api",
      "source": {
        "repo": "github:username/zodiac-backend",
        "branch": "main"
      },
      "variables": {
        "NODE_ENV": "production",
        "PORT": "3000",
        "OPENAI_API_KEY": "${OPENAI_API_KEY}",
        "DATABASE_URL": "${RAILWAY_DATABASE_URL}",
        "REDIS_URL": "${RAILWAY_REDIS_URL}",
        "JWT_SECRET": "${JWT_SECRET}",
        "ADMIN_KEY": "${ADMIN_KEY}",
        "CORS_ORIGINS": "https://apps.apple.com,https://zodiaclifecoach.app",
        "RATE_LIMIT_REQUESTS": "1000",
        "RATE_LIMIT_WINDOW": "3600000",
        "LOG_LEVEL": "info",
        "MONITORING_ENABLED": "true",
        "HEALTH_CHECK_INTERVAL": "30000"
      },
      "resources": {
        "cpu": "2vCPU",
        "memory": "4GB",
        "storage": "20GB"
      },
      "networking": {
        "publicDomain": true,
        "customDomain": "api.zodiaclifecoach.app"
      }
    },
    "database": {
      "name": "zodiac-postgres",
      "image": "postgres:15",
      "variables": {
        "POSTGRES_DB": "zodiac_production",
        "POSTGRES_USER": "zodiac_admin",
        "POSTGRES_PASSWORD": "${DATABASE_PASSWORD}"
      },
      "resources": {
        "cpu": "1vCPU",
        "memory": "2GB",
        "storage": "50GB"
      }
    },
    "redis": {
      "name": "zodiac-redis",
      "image": "redis:7-alpine",
      "resources": {
        "cpu": "0.5vCPU",
        "memory": "1GB"
      }
    },
    "monitoring": {
      "name": "zodiac-monitoring",
      "source": {
        "dockerfile": "./docker/monitoring/Dockerfile"
      },
      "resources": {
        "cpu": "1vCPU",
        "memory": "2GB"
      }
    }
  },
  "networking": {
    "loadBalancer": {
      "enabled": true,
      "healthCheck": "/health",
      "timeout": 30
    }
  }
}